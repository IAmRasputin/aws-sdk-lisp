;; DO NOT EDIT: File is generated by AWS-SDK/GENERATOR.

(common-lisp:defpackage #:aws-sdk/services/bedrock-agent-runtime/api
  (:use)
  (:nicknames #:aws/bedrock-agent-runtime)
  (:import-from #:aws-sdk/generator/shape)
  (:import-from #:aws-sdk/generator/operation)
  (:import-from #:aws-sdk/api)
  (:import-from #:aws-sdk/request)
  (:import-from #:aws-sdk/json-request)
  (:import-from #:aws-sdk/rest-json-request)
  (:import-from #:aws-sdk/rest-xml-request)
  (:import-from #:aws-sdk/query-request)
  (:import-from #:aws-sdk/error))
(common-lisp:in-package #:aws-sdk/services/bedrock-agent-runtime/api)
(common-lisp:progn
 (common-lisp:define-condition bedrock-agent-runtime-error
     (aws-sdk/error:aws-error)
     common-lisp:nil)
 (common-lisp:export 'bedrock-agent-runtime-error))
(common-lisp:progn
 (common-lisp:defclass bedrock-agent-runtime-request
                       (aws-sdk/generator/service::rest-json-request)
                       common-lisp:nil
                       (:default-initargs :service "bedrock-agent-runtime"
                        :api-version "2023-07-26" :host-prefix
                        "bedrock-agent-runtime" :signing-name "bedrock"
                        :global-host common-lisp:nil))
 (common-lisp:export 'bedrock-agent-runtime-request))
(common-lisp:defvar *error-map*
  '(("AccessDeniedException" . access-denied-exception)
    ("BadGatewayException" . bad-gateway-exception)
    ("ConflictException" . conflict-exception)
    ("DependencyFailedException" . dependency-failed-exception)
    ("InternalServerException" . internal-server-exception)
    ("ResourceNotFoundException" . resource-not-found-exception)
    ("ServiceQuotaExceededException" . service-quota-exceeded-exception)
    ("ThrottlingException" . throttling-exception)
    ("ValidationException" . validation-exception)))
(common-lisp:progn
 (common-lisp:define-condition access-denied-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       access-denied-exception-message)))
 (common-lisp:export
  (common-lisp:list 'access-denied-exception 'access-denied-exception-message)))
(common-lisp:progn
 (common-lisp:defstruct
     (action-group-invocation-input (:copier common-lisp:nil)
      (:conc-name "struct-shape-action-group-invocation-input-"))
   (action-group-name common-lisp:nil :type
    (common-lisp:or action-group-name common-lisp:null))
   (api-path common-lisp:nil :type (common-lisp:or api-path common-lisp:null))
   (parameters common-lisp:nil :type
    (common-lisp:or parameters common-lisp:null))
   (request-body common-lisp:nil :type
    (common-lisp:or request-body common-lisp:null))
   (verb common-lisp:nil :type (common-lisp:or verb common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'action-group-invocation-input
                    'make-action-group-invocation-input))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          action-group-invocation-input))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          action-group-invocation-input))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'action-group-name))
      (common-lisp:list
       (common-lisp:cons "actionGroupName"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'api-path))
      (common-lisp:list
       (common-lisp:cons "apiPath"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'parameters))
      (common-lisp:list
       (common-lisp:cons "parameters"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'request-body))
      (common-lisp:list
       (common-lisp:cons "requestBody"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'verb))
      (common-lisp:list
       (common-lisp:cons "verb"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          action-group-invocation-input))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (action-group-invocation-output (:copier common-lisp:nil)
      (:conc-name "struct-shape-action-group-invocation-output-"))
   (text common-lisp:nil :type
    (common-lisp:or action-group-output-string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'action-group-invocation-output
                    'make-action-group-invocation-output))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          action-group-invocation-output))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          action-group-invocation-output))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          action-group-invocation-output))
   common-lisp:nil))
(common-lisp:deftype action-group-name () 'common-lisp:string)
(common-lisp:deftype action-group-output-string () 'common-lisp:string)
(common-lisp:deftype agent-alias-id () 'common-lisp:string)
(common-lisp:deftype agent-id () 'common-lisp:string)
(common-lisp:deftype api-path () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (attribution (:copier common-lisp:nil)
      (:conc-name "struct-shape-attribution-"))
   (citations common-lisp:nil :type
    (common-lisp:or citations common-lisp:null)))
 (common-lisp:export (common-lisp:list 'attribution 'make-attribution))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input attribution))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input attribution))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'citations))
      (common-lisp:list
       (common-lisp:cons "citations"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input attribution))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:define-condition bad-gateway-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       bad-gateway-exception-message)
      (resource-name :initarg :resource-name :initform common-lisp:nil :reader
       bad-gateway-exception-resource-name)))
 (common-lisp:export
  (common-lisp:list 'bad-gateway-exception 'bad-gateway-exception-message
                    'bad-gateway-exception-resource-name)))
(common-lisp:deftype bedrock-model-arn () 'common-lisp:string)
(common-lisp:deftype boolean () 'common-lisp:boolean)
(common-lisp:progn
 (common-lisp:defstruct
     (citation (:copier common-lisp:nil) (:conc-name "struct-shape-citation-"))
   (generated-response-part common-lisp:nil :type
    (common-lisp:or generated-response-part common-lisp:null))
   (retrieved-references common-lisp:nil :type
    (common-lisp:or retrieved-references common-lisp:null)))
 (common-lisp:export (common-lisp:list 'citation 'make-citation))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input citation))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input citation))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'generated-response-part))
      (common-lisp:list
       (common-lisp:cons "generatedResponsePart"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'retrieved-references))
      (common-lisp:list
       (common-lisp:cons "retrievedReferences"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input citation))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:deftype citations () '(trivial-types:proper-list citation))
 (common-lisp:defun make-citations
                    (common-lisp:&rest aws-sdk/generator/shape::members)
   (common-lisp:check-type aws-sdk/generator/shape::members
                           (trivial-types:proper-list citation))
   aws-sdk/generator/shape::members))
(common-lisp:progn
 (common-lisp:define-condition conflict-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       conflict-exception-message)))
 (common-lisp:export
  (common-lisp:list 'conflict-exception 'conflict-exception-message)))
(common-lisp:progn
 (common-lisp:deftype content-map () 'common-lisp:hash-table)
 (common-lisp:defun make-content-map (aws-sdk/generator/shape::key-values)
   (common-lisp:etypecase aws-sdk/generator/shape::key-values
     (common-lisp:hash-table aws-sdk/generator/shape::key-values)
     (common-lisp:list
      (alexandria:alist-hash-table aws-sdk/generator/shape::key-values)))))
(common-lisp:deftype creation-mode () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:define-condition dependency-failed-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       dependency-failed-exception-message)
      (resource-name :initarg :resource-name :initform common-lisp:nil :reader
       dependency-failed-exception-resource-name)))
 (common-lisp:export
  (common-lisp:list 'dependency-failed-exception
                    'dependency-failed-exception-message
                    'dependency-failed-exception-resource-name)))
(common-lisp:deftype double () 'common-lisp:double-float)
(common-lisp:deftype failure-reason-string () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (failure-trace (:copier common-lisp:nil)
      (:conc-name "struct-shape-failure-trace-"))
   (failure-reason common-lisp:nil :type
    (common-lisp:or failure-reason-string common-lisp:null))
   (trace-id common-lisp:nil :type (common-lisp:or trace-id common-lisp:null)))
 (common-lisp:export (common-lisp:list 'failure-trace 'make-failure-trace))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input failure-trace))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input failure-trace))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'failure-reason))
      (common-lisp:list
       (common-lisp:cons "failureReason"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace-id))
      (common-lisp:list
       (common-lisp:cons "traceId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input failure-trace))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (final-response (:copier common-lisp:nil)
      (:conc-name "struct-shape-final-response-"))
   (text common-lisp:nil :type
    (common-lisp:or final-response-string common-lisp:null)))
 (common-lisp:export (common-lisp:list 'final-response 'make-final-response))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input final-response))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input final-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input final-response))
   common-lisp:nil))
(common-lisp:deftype final-response-string () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (generated-response-part (:copier common-lisp:nil)
      (:conc-name "struct-shape-generated-response-part-"))
   (text-response-part common-lisp:nil :type
    (common-lisp:or text-response-part common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'generated-response-part 'make-generated-response-part))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          generated-response-part))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          generated-response-part))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text-response-part))
      (common-lisp:list
       (common-lisp:cons "textResponsePart"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          generated-response-part))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (inference-configuration (:copier common-lisp:nil)
      (:conc-name "struct-shape-inference-configuration-"))
   (maximum-length common-lisp:nil :type
    (common-lisp:or maximum-length common-lisp:null))
   (stop-sequences common-lisp:nil :type
    (common-lisp:or stop-sequences common-lisp:null))
   (temperature common-lisp:nil :type
    (common-lisp:or temperature common-lisp:null))
   (top-k common-lisp:nil :type (common-lisp:or top-k common-lisp:null))
   (top-p common-lisp:nil :type (common-lisp:or top-p common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'inference-configuration 'make-inference-configuration))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          inference-configuration))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          inference-configuration))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'maximum-length))
      (common-lisp:list
       (common-lisp:cons "maximumLength"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'stop-sequences))
      (common-lisp:list
       (common-lisp:cons "stopSequences"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'temperature))
      (common-lisp:list
       (common-lisp:cons "temperature"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'top-k))
      (common-lisp:list
       (common-lisp:cons "topK"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'top-p))
      (common-lisp:list
       (common-lisp:cons "topP"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          inference-configuration))
   common-lisp:nil))
(common-lisp:deftype input-text () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:define-condition internal-server-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       internal-server-exception-message)))
 (common-lisp:export
  (common-lisp:list 'internal-server-exception
                    'internal-server-exception-message)))
(common-lisp:progn
 (common-lisp:defstruct
     (invocation-input (:copier common-lisp:nil)
      (:conc-name "struct-shape-invocation-input-"))
   (action-group-invocation-input common-lisp:nil :type
    (common-lisp:or action-group-invocation-input common-lisp:null))
   (invocation-type common-lisp:nil :type
    (common-lisp:or invocation-type common-lisp:null))
   (knowledge-base-lookup-input common-lisp:nil :type
    (common-lisp:or knowledge-base-lookup-input common-lisp:null))
   (trace-id common-lisp:nil :type (common-lisp:or trace-id common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'invocation-input 'make-invocation-input))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input invocation-input))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input invocation-input))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'action-group-invocation-input))
      (common-lisp:list
       (common-lisp:cons "actionGroupInvocationInput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'invocation-type))
      (common-lisp:list
       (common-lisp:cons "invocationType"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'knowledge-base-lookup-input))
      (common-lisp:list
       (common-lisp:cons "knowledgeBaseLookupInput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace-id))
      (common-lisp:list
       (common-lisp:cons "traceId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input invocation-input))
   common-lisp:nil))
(common-lisp:deftype invocation-type () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (invoke-agent-request (:copier common-lisp:nil)
      (:conc-name "struct-shape-invoke-agent-request-"))
   (agent-alias-id (common-lisp:error ":agentaliasid is required") :type
    (common-lisp:or agent-alias-id common-lisp:null))
   (agent-id (common-lisp:error ":agentid is required") :type
    (common-lisp:or agent-id common-lisp:null))
   (enable-trace common-lisp:nil :type
    (common-lisp:or boolean common-lisp:null))
   (end-session common-lisp:nil :type
    (common-lisp:or boolean common-lisp:null))
   (input-text (common-lisp:error ":inputtext is required") :type
    (common-lisp:or input-text common-lisp:null))
   (session-id (common-lisp:error ":sessionid is required") :type
    (common-lisp:or session-id common-lisp:null))
   (session-state common-lisp:nil :type
    (common-lisp:or session-state common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'invoke-agent-request 'make-invoke-agent-request))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input invoke-agent-request))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input invoke-agent-request))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'enable-trace))
      (common-lisp:list
       (common-lisp:cons "enableTrace"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'end-session))
      (common-lisp:list
       (common-lisp:cons "endSession"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'input-text))
      (common-lisp:list
       (common-lisp:cons "inputText"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'session-state))
      (common-lisp:list
       (common-lisp:cons "sessionState"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input invoke-agent-request))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (invoke-agent-response (:copier common-lisp:nil)
      (:conc-name "struct-shape-invoke-agent-response-"))
   (completion (common-lisp:error ":completion is required") :type
    (common-lisp:or response-stream common-lisp:null))
   (content-type (common-lisp:error ":contenttype is required") :type
    (common-lisp:or mime-type common-lisp:null))
   (session-id (common-lisp:error ":sessionid is required") :type
    (common-lisp:or session-id common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'invoke-agent-response 'make-invoke-agent-response))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          invoke-agent-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'content-type))
      (common-lisp:cons "x-amzn-bedrock-agent-content-type"
                        aws-sdk/generator/shape::value))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'session-id))
      (common-lisp:cons "x-amz-bedrock-agent-session-id"
                        aws-sdk/generator/shape::value))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          invoke-agent-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'completion))
      (common-lisp:list
       (common-lisp:cons "completion"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          invoke-agent-response))
   (common-lisp:slot-value aws-sdk/generator/shape::input 'completion)))
(common-lisp:deftype kms-key-arn () 'common-lisp:string)
(common-lisp:deftype knowledge-base-id () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (knowledge-base-lookup-input (:copier common-lisp:nil)
      (:conc-name "struct-shape-knowledge-base-lookup-input-"))
   (knowledge-base-id common-lisp:nil :type
    (common-lisp:or trace-knowledge-base-id common-lisp:null))
   (text common-lisp:nil :type
    (common-lisp:or knowledge-base-lookup-input-string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'knowledge-base-lookup-input
                    'make-knowledge-base-lookup-input))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-lookup-input))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-lookup-input))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'knowledge-base-id))
      (common-lisp:list
       (common-lisp:cons "knowledgeBaseId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-lookup-input))
   common-lisp:nil))
(common-lisp:deftype knowledge-base-lookup-input-string () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (knowledge-base-lookup-output (:copier common-lisp:nil)
      (:conc-name "struct-shape-knowledge-base-lookup-output-"))
   (retrieved-references common-lisp:nil :type
    (common-lisp:or retrieved-references common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'knowledge-base-lookup-output
                    'make-knowledge-base-lookup-output))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-lookup-output))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-lookup-output))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'retrieved-references))
      (common-lisp:list
       (common-lisp:cons "retrievedReferences"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-lookup-output))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (knowledge-base-query (:copier common-lisp:nil)
      (:conc-name "struct-shape-knowledge-base-query-"))
   (text (common-lisp:error ":text is required") :type
    (common-lisp:or knowledge-base-query-text-string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'knowledge-base-query 'make-knowledge-base-query))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input knowledge-base-query))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input knowledge-base-query))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input knowledge-base-query))
   common-lisp:nil))
(common-lisp:deftype knowledge-base-query-text-string () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (knowledge-base-retrieval-configuration (:copier common-lisp:nil)
      (:conc-name "struct-shape-knowledge-base-retrieval-configuration-"))
   (vector-search-configuration
    (common-lisp:error ":vectorsearchconfiguration is required") :type
    (common-lisp:or knowledge-base-vector-search-configuration
                    common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'knowledge-base-retrieval-configuration
                    'make-knowledge-base-retrieval-configuration))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieval-configuration))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieval-configuration))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'vector-search-configuration))
      (common-lisp:list
       (common-lisp:cons "vectorSearchConfiguration"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieval-configuration))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (knowledge-base-retrieval-result (:copier common-lisp:nil)
      (:conc-name "struct-shape-knowledge-base-retrieval-result-"))
   (content (common-lisp:error ":content is required") :type
    (common-lisp:or retrieval-result-content common-lisp:null))
   (location common-lisp:nil :type
    (common-lisp:or retrieval-result-location common-lisp:null))
   (score common-lisp:nil :type (common-lisp:or double common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'knowledge-base-retrieval-result
                    'make-knowledge-base-retrieval-result))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieval-result))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieval-result))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'content))
      (common-lisp:list
       (common-lisp:cons "content"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'location))
      (common-lisp:list
       (common-lisp:cons "location"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'score))
      (common-lisp:list
       (common-lisp:cons "score"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieval-result))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:deftype knowledge-base-retrieval-results ()
   '(trivial-types:proper-list knowledge-base-retrieval-result))
 (common-lisp:defun make-knowledge-base-retrieval-results
                    (common-lisp:&rest aws-sdk/generator/shape::members)
   (common-lisp:check-type aws-sdk/generator/shape::members
                           (trivial-types:proper-list
                            knowledge-base-retrieval-result))
   aws-sdk/generator/shape::members))
(common-lisp:progn
 (common-lisp:defstruct
     (knowledge-base-retrieve-and-generate-configuration
      (:copier common-lisp:nil)
      (:conc-name
       "struct-shape-knowledge-base-retrieve-and-generate-configuration-"))
   (knowledge-base-id (common-lisp:error ":knowledgebaseid is required") :type
    (common-lisp:or knowledge-base-id common-lisp:null))
   (model-arn (common-lisp:error ":modelarn is required") :type
    (common-lisp:or bedrock-model-arn common-lisp:null))
   (retrieval-configuration common-lisp:nil :type
    (common-lisp:or knowledge-base-retrieval-configuration common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'knowledge-base-retrieve-and-generate-configuration
                    'make-knowledge-base-retrieve-and-generate-configuration))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieve-and-generate-configuration))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieve-and-generate-configuration))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'knowledge-base-id))
      (common-lisp:list
       (common-lisp:cons "knowledgeBaseId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'model-arn))
      (common-lisp:list
       (common-lisp:cons "modelArn"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'retrieval-configuration))
      (common-lisp:list
       (common-lisp:cons "retrievalConfiguration"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-retrieve-and-generate-configuration))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (knowledge-base-vector-search-configuration (:copier common-lisp:nil)
      (:conc-name "struct-shape-knowledge-base-vector-search-configuration-"))
   (number-of-results common-lisp:nil :type
    (common-lisp:or
     knowledge-base-vector-search-configuration-number-of-results-integer
     common-lisp:null))
   (override-search-type common-lisp:nil :type
    (common-lisp:or search-type common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'knowledge-base-vector-search-configuration
                    'make-knowledge-base-vector-search-configuration))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-vector-search-configuration))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-vector-search-configuration))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'number-of-results))
      (common-lisp:list
       (common-lisp:cons "numberOfResults"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'override-search-type))
      (common-lisp:list
       (common-lisp:cons "overrideSearchType"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          knowledge-base-vector-search-configuration))
   common-lisp:nil))
(common-lisp:deftype knowledge-base-vector-search-configuration-number-of-results-integer
                     ()
  'common-lisp:integer)
(common-lisp:deftype lambda-arn () 'common-lisp:string)
(common-lisp:deftype maximum-length () 'common-lisp:integer)
(common-lisp:deftype mime-type () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (model-invocation-input (:copier common-lisp:nil)
      (:conc-name "struct-shape-model-invocation-input-"))
   (inference-configuration common-lisp:nil :type
    (common-lisp:or inference-configuration common-lisp:null))
   (override-lambda common-lisp:nil :type
    (common-lisp:or lambda-arn common-lisp:null))
   (parser-mode common-lisp:nil :type
    (common-lisp:or creation-mode common-lisp:null))
   (prompt-creation-mode common-lisp:nil :type
    (common-lisp:or creation-mode common-lisp:null))
   (text common-lisp:nil :type (common-lisp:or prompt-text common-lisp:null))
   (trace-id common-lisp:nil :type (common-lisp:or trace-id common-lisp:null))
   (type common-lisp:nil :type (common-lisp:or prompt-type common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'model-invocation-input 'make-model-invocation-input))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          model-invocation-input))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          model-invocation-input))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'inference-configuration))
      (common-lisp:list
       (common-lisp:cons "inferenceConfiguration"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'override-lambda))
      (common-lisp:list
       (common-lisp:cons "overrideLambda"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'parser-mode))
      (common-lisp:list
       (common-lisp:cons "parserMode"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'prompt-creation-mode))
      (common-lisp:list
       (common-lisp:cons "promptCreationMode"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace-id))
      (common-lisp:list
       (common-lisp:cons "traceId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'type))
      (common-lisp:list
       (common-lisp:cons "type"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          model-invocation-input))
   common-lisp:nil))
(common-lisp:deftype next-token () 'common-lisp:string)
(common-lisp:deftype non-blank-string () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (observation (:copier common-lisp:nil)
      (:conc-name "struct-shape-observation-"))
   (action-group-invocation-output common-lisp:nil :type
    (common-lisp:or action-group-invocation-output common-lisp:null))
   (final-response common-lisp:nil :type
    (common-lisp:or final-response common-lisp:null))
   (knowledge-base-lookup-output common-lisp:nil :type
    (common-lisp:or knowledge-base-lookup-output common-lisp:null))
   (reprompt-response common-lisp:nil :type
    (common-lisp:or reprompt-response common-lisp:null))
   (trace-id common-lisp:nil :type (common-lisp:or trace-id common-lisp:null))
   (type common-lisp:nil :type (common-lisp:or type common-lisp:null)))
 (common-lisp:export (common-lisp:list 'observation 'make-observation))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input observation))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input observation))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'action-group-invocation-output))
      (common-lisp:list
       (common-lisp:cons "actionGroupInvocationOutput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'final-response))
      (common-lisp:list
       (common-lisp:cons "finalResponse"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'knowledge-base-lookup-output))
      (common-lisp:list
       (common-lisp:cons "knowledgeBaseLookupOutput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'reprompt-response))
      (common-lisp:list
       (common-lisp:cons "repromptResponse"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace-id))
      (common-lisp:list
       (common-lisp:cons "traceId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'type))
      (common-lisp:list
       (common-lisp:cons "type"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input observation))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (orchestration-trace (:copier common-lisp:nil)
      (:conc-name "struct-shape-orchestration-trace-"))
   (invocation-input common-lisp:nil :type
    (common-lisp:or invocation-input common-lisp:null))
   (model-invocation-input common-lisp:nil :type
    (common-lisp:or model-invocation-input common-lisp:null))
   (observation common-lisp:nil :type
    (common-lisp:or observation common-lisp:null))
   (rationale common-lisp:nil :type
    (common-lisp:or rationale common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'orchestration-trace 'make-orchestration-trace))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input orchestration-trace))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input orchestration-trace))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'invocation-input))
      (common-lisp:list
       (common-lisp:cons "invocationInput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'model-invocation-input))
      (common-lisp:list
       (common-lisp:cons "modelInvocationInput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'observation))
      (common-lisp:list
       (common-lisp:cons "observation"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'rationale))
      (common-lisp:list
       (common-lisp:cons "rationale"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input orchestration-trace))
   common-lisp:nil))
(common-lisp:deftype output-string () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (parameter (:copier common-lisp:nil)
      (:conc-name "struct-shape-parameter-"))
   (name common-lisp:nil :type (common-lisp:or string common-lisp:null))
   (type common-lisp:nil :type (common-lisp:or string common-lisp:null))
   (value common-lisp:nil :type (common-lisp:or string common-lisp:null)))
 (common-lisp:export (common-lisp:list 'parameter 'make-parameter))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input parameter))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input parameter))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'name))
      (common-lisp:list
       (common-lisp:cons "name"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'type))
      (common-lisp:list
       (common-lisp:cons "type"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'value))
      (common-lisp:list
       (common-lisp:cons "value"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input parameter))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:deftype parameters () '(trivial-types:proper-list parameter))
 (common-lisp:defun make-parameters
                    (common-lisp:&rest aws-sdk/generator/shape::members)
   (common-lisp:check-type aws-sdk/generator/shape::members
                           (trivial-types:proper-list parameter))
   aws-sdk/generator/shape::members))
(common-lisp:deftype part-body ()
  '(common-lisp:simple-array (common-lisp:unsigned-byte 8) (common-lisp:*)))
(common-lisp:progn
 (common-lisp:defstruct
     (payload-part (:copier common-lisp:nil)
      (:conc-name "struct-shape-payload-part-"))
   (attribution common-lisp:nil :type
    (common-lisp:or attribution common-lisp:null))
   (bytes common-lisp:nil :type (common-lisp:or part-body common-lisp:null)))
 (common-lisp:export (common-lisp:list 'payload-part 'make-payload-part))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input payload-part))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input payload-part))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'attribution))
      (common-lisp:list
       (common-lisp:cons "attribution"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'bytes))
      (common-lisp:list
       (common-lisp:cons "bytes"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input payload-part))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (post-processing-model-invocation-output (:copier common-lisp:nil)
      (:conc-name "struct-shape-post-processing-model-invocation-output-"))
   (parsed-response common-lisp:nil :type
    (common-lisp:or post-processing-parsed-response common-lisp:null))
   (trace-id common-lisp:nil :type (common-lisp:or trace-id common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'post-processing-model-invocation-output
                    'make-post-processing-model-invocation-output))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-model-invocation-output))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-model-invocation-output))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'parsed-response))
      (common-lisp:list
       (common-lisp:cons "parsedResponse"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace-id))
      (common-lisp:list
       (common-lisp:cons "traceId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-model-invocation-output))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (post-processing-parsed-response (:copier common-lisp:nil)
      (:conc-name "struct-shape-post-processing-parsed-response-"))
   (text common-lisp:nil :type
    (common-lisp:or output-string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'post-processing-parsed-response
                    'make-post-processing-parsed-response))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-parsed-response))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-parsed-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-parsed-response))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (post-processing-trace (:copier common-lisp:nil)
      (:conc-name "struct-shape-post-processing-trace-"))
   (model-invocation-input common-lisp:nil :type
    (common-lisp:or model-invocation-input common-lisp:null))
   (model-invocation-output common-lisp:nil :type
    (common-lisp:or post-processing-model-invocation-output common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'post-processing-trace 'make-post-processing-trace))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-trace))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-trace))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'model-invocation-input))
      (common-lisp:list
       (common-lisp:cons "modelInvocationInput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'model-invocation-output))
      (common-lisp:list
       (common-lisp:cons "modelInvocationOutput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          post-processing-trace))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (pre-processing-model-invocation-output (:copier common-lisp:nil)
      (:conc-name "struct-shape-pre-processing-model-invocation-output-"))
   (parsed-response common-lisp:nil :type
    (common-lisp:or pre-processing-parsed-response common-lisp:null))
   (trace-id common-lisp:nil :type (common-lisp:or trace-id common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'pre-processing-model-invocation-output
                    'make-pre-processing-model-invocation-output))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          pre-processing-model-invocation-output))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          pre-processing-model-invocation-output))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'parsed-response))
      (common-lisp:list
       (common-lisp:cons "parsedResponse"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace-id))
      (common-lisp:list
       (common-lisp:cons "traceId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          pre-processing-model-invocation-output))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (pre-processing-parsed-response (:copier common-lisp:nil)
      (:conc-name "struct-shape-pre-processing-parsed-response-"))
   (is-valid common-lisp:nil :type (common-lisp:or boolean common-lisp:null))
   (rationale common-lisp:nil :type
    (common-lisp:or rationale-string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'pre-processing-parsed-response
                    'make-pre-processing-parsed-response))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          pre-processing-parsed-response))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          pre-processing-parsed-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'is-valid))
      (common-lisp:list
       (common-lisp:cons "isValid"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'rationale))
      (common-lisp:list
       (common-lisp:cons "rationale"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          pre-processing-parsed-response))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (pre-processing-trace (:copier common-lisp:nil)
      (:conc-name "struct-shape-pre-processing-trace-"))
   (model-invocation-input common-lisp:nil :type
    (common-lisp:or model-invocation-input common-lisp:null))
   (model-invocation-output common-lisp:nil :type
    (common-lisp:or pre-processing-model-invocation-output common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'pre-processing-trace 'make-pre-processing-trace))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input pre-processing-trace))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input pre-processing-trace))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'model-invocation-input))
      (common-lisp:list
       (common-lisp:cons "modelInvocationInput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'model-invocation-output))
      (common-lisp:list
       (common-lisp:cons "modelInvocationOutput"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input pre-processing-trace))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:deftype prompt-session-attributes-map () 'common-lisp:hash-table)
 (common-lisp:defun make-prompt-session-attributes-map
                    (aws-sdk/generator/shape::key-values)
   (common-lisp:etypecase aws-sdk/generator/shape::key-values
     (common-lisp:hash-table aws-sdk/generator/shape::key-values)
     (common-lisp:list
      (alexandria:alist-hash-table aws-sdk/generator/shape::key-values)))))
(common-lisp:deftype prompt-text () 'common-lisp:string)
(common-lisp:deftype prompt-type () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (rationale (:copier common-lisp:nil)
      (:conc-name "struct-shape-rationale-"))
   (text common-lisp:nil :type
    (common-lisp:or rationale-string common-lisp:null))
   (trace-id common-lisp:nil :type (common-lisp:or trace-id common-lisp:null)))
 (common-lisp:export (common-lisp:list 'rationale 'make-rationale))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input rationale))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input rationale))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace-id))
      (common-lisp:list
       (common-lisp:cons "traceId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input rationale))
   common-lisp:nil))
(common-lisp:deftype rationale-string () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (reprompt-response (:copier common-lisp:nil)
      (:conc-name "struct-shape-reprompt-response-"))
   (source common-lisp:nil :type (common-lisp:or source common-lisp:null))
   (text common-lisp:nil :type (common-lisp:or string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'reprompt-response 'make-reprompt-response))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input reprompt-response))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input reprompt-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'source))
      (common-lisp:list
       (common-lisp:cons "source"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input reprompt-response))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (request-body (:copier common-lisp:nil)
      (:conc-name "struct-shape-request-body-"))
   (content common-lisp:nil :type
    (common-lisp:or content-map common-lisp:null)))
 (common-lisp:export (common-lisp:list 'request-body 'make-request-body))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input request-body))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input request-body))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'content))
      (common-lisp:list
       (common-lisp:cons "content"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input request-body))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:define-condition resource-not-found-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       resource-not-found-exception-message)))
 (common-lisp:export
  (common-lisp:list 'resource-not-found-exception
                    'resource-not-found-exception-message)))
(common-lisp:progn
 (common-lisp:defstruct
     (response-stream (:copier common-lisp:nil)
      (:conc-name "struct-shape-response-stream-"))
   (access-denied-exception common-lisp:nil :type
    (common-lisp:or access-denied-exception common-lisp:null))
   (bad-gateway-exception common-lisp:nil :type
    (common-lisp:or bad-gateway-exception common-lisp:null))
   (chunk common-lisp:nil :type (common-lisp:or payload-part common-lisp:null))
   (conflict-exception common-lisp:nil :type
    (common-lisp:or conflict-exception common-lisp:null))
   (dependency-failed-exception common-lisp:nil :type
    (common-lisp:or dependency-failed-exception common-lisp:null))
   (internal-server-exception common-lisp:nil :type
    (common-lisp:or internal-server-exception common-lisp:null))
   (resource-not-found-exception common-lisp:nil :type
    (common-lisp:or resource-not-found-exception common-lisp:null))
   (service-quota-exceeded-exception common-lisp:nil :type
    (common-lisp:or service-quota-exceeded-exception common-lisp:null))
   (throttling-exception common-lisp:nil :type
    (common-lisp:or throttling-exception common-lisp:null))
   (trace common-lisp:nil :type (common-lisp:or trace-part common-lisp:null))
   (validation-exception common-lisp:nil :type
    (common-lisp:or validation-exception common-lisp:null)))
 (common-lisp:export (common-lisp:list 'response-stream 'make-response-stream))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input response-stream))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input response-stream))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'access-denied-exception))
      (common-lisp:list
       (common-lisp:cons "accessDeniedException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'bad-gateway-exception))
      (common-lisp:list
       (common-lisp:cons "badGatewayException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'chunk))
      (common-lisp:list
       (common-lisp:cons "chunk"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'conflict-exception))
      (common-lisp:list
       (common-lisp:cons "conflictException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'dependency-failed-exception))
      (common-lisp:list
       (common-lisp:cons "dependencyFailedException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'internal-server-exception))
      (common-lisp:list
       (common-lisp:cons "internalServerException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'resource-not-found-exception))
      (common-lisp:list
       (common-lisp:cons "resourceNotFoundException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'service-quota-exceeded-exception))
      (common-lisp:list
       (common-lisp:cons "serviceQuotaExceededException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'throttling-exception))
      (common-lisp:list
       (common-lisp:cons "throttlingException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace))
      (common-lisp:list
       (common-lisp:cons "trace"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'validation-exception))
      (common-lisp:list
       (common-lisp:cons "validationException"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input response-stream))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieval-result-content (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieval-result-content-"))
   (text (common-lisp:error ":text is required") :type
    (common-lisp:or string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieval-result-content 'make-retrieval-result-content))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-content))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-content))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-content))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieval-result-location (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieval-result-location-"))
   (s3location common-lisp:nil :type
    (common-lisp:or retrieval-result-s3location common-lisp:null))
   (type (common-lisp:error ":type is required") :type
    (common-lisp:or retrieval-result-location-type common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieval-result-location
                    'make-retrieval-result-location))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-location))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-location))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 's3location))
      (common-lisp:list
       (common-lisp:cons "s3Location"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'type))
      (common-lisp:list
       (common-lisp:cons "type"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-location))
   common-lisp:nil))
(common-lisp:deftype retrieval-result-location-type () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (retrieval-result-s3location (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieval-result-s3location-"))
   (uri common-lisp:nil :type (common-lisp:or string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieval-result-s3location
                    'make-retrieval-result-s3location))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-s3location))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-s3location))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'uri))
      (common-lisp:list
       (common-lisp:cons "uri"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieval-result-s3location))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-and-generate-configuration (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-and-generate-configuration-"))
   (knowledge-base-configuration common-lisp:nil :type
    (common-lisp:or knowledge-base-retrieve-and-generate-configuration
                    common-lisp:null))
   (type (common-lisp:error ":type is required") :type
    (common-lisp:or retrieve-and-generate-type common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-and-generate-configuration
                    'make-retrieve-and-generate-configuration))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-configuration))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-configuration))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'knowledge-base-configuration))
      (common-lisp:list
       (common-lisp:cons "knowledgeBaseConfiguration"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'type))
      (common-lisp:list
       (common-lisp:cons "type"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-configuration))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-and-generate-input (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-and-generate-input-"))
   (text (common-lisp:error ":text is required") :type
    (common-lisp:or retrieve-and-generate-input-text-string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-and-generate-input
                    'make-retrieve-and-generate-input))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-input))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-input))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-input))
   common-lisp:nil))
(common-lisp:deftype retrieve-and-generate-input-text-string ()
  'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-and-generate-output (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-and-generate-output-"))
   (text (common-lisp:error ":text is required") :type
    (common-lisp:or string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-and-generate-output
                    'make-retrieve-and-generate-output))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-output))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-output))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-output))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-and-generate-request (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-and-generate-request-"))
   (input (common-lisp:error ":input is required") :type
    (common-lisp:or retrieve-and-generate-input common-lisp:null))
   (retrieve-and-generate-configuration common-lisp:nil :type
    (common-lisp:or retrieve-and-generate-configuration common-lisp:null))
   (session-configuration common-lisp:nil :type
    (common-lisp:or retrieve-and-generate-session-configuration
                    common-lisp:null))
   (session-id common-lisp:nil :type
    (common-lisp:or session-id common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-and-generate-request
                    'make-retrieve-and-generate-request))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-request))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-request))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'input))
      (common-lisp:list
       (common-lisp:cons "input"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'retrieve-and-generate-configuration))
      (common-lisp:list
       (common-lisp:cons "retrieveAndGenerateConfiguration"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'session-configuration))
      (common-lisp:list
       (common-lisp:cons "sessionConfiguration"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'session-id))
      (common-lisp:list
       (common-lisp:cons "sessionId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-request))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-and-generate-response (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-and-generate-response-"))
   (citations common-lisp:nil :type
    (common-lisp:or citations common-lisp:null))
   (output (common-lisp:error ":output is required") :type
    (common-lisp:or retrieve-and-generate-output common-lisp:null))
   (session-id (common-lisp:error ":sessionid is required") :type
    (common-lisp:or session-id common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-and-generate-response
                    'make-retrieve-and-generate-response))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-response))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'citations))
      (common-lisp:list
       (common-lisp:cons "citations"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'output))
      (common-lisp:list
       (common-lisp:cons "output"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'session-id))
      (common-lisp:list
       (common-lisp:cons "sessionId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-response))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-and-generate-session-configuration (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-and-generate-session-configuration-"))
   (kms-key-arn (common-lisp:error ":kmskeyarn is required") :type
    (common-lisp:or kms-key-arn common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-and-generate-session-configuration
                    'make-retrieve-and-generate-session-configuration))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-session-configuration))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-session-configuration))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'kms-key-arn))
      (common-lisp:list
       (common-lisp:cons "kmsKeyArn"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        (
                         (aws-sdk/generator/shape::input
                          retrieve-and-generate-session-configuration))
   common-lisp:nil))
(common-lisp:deftype retrieve-and-generate-type () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-request (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-request-"))
   (knowledge-base-id (common-lisp:error ":knowledgebaseid is required") :type
    (common-lisp:or knowledge-base-id common-lisp:null))
   (next-token common-lisp:nil :type
    (common-lisp:or next-token common-lisp:null))
   (retrieval-configuration common-lisp:nil :type
    (common-lisp:or knowledge-base-retrieval-configuration common-lisp:null))
   (retrieval-query (common-lisp:error ":retrievalquery is required") :type
    (common-lisp:or knowledge-base-query common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-request 'make-retrieve-request))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input retrieve-request))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input retrieve-request))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'next-token))
      (common-lisp:list
       (common-lisp:cons "nextToken"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'retrieval-configuration))
      (common-lisp:list
       (common-lisp:cons "retrievalConfiguration"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'retrieval-query))
      (common-lisp:list
       (common-lisp:cons "retrievalQuery"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input retrieve-request))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieve-response (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieve-response-"))
   (next-token common-lisp:nil :type
    (common-lisp:or next-token common-lisp:null))
   (retrieval-results (common-lisp:error ":retrievalresults is required") :type
    (common-lisp:or knowledge-base-retrieval-results common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieve-response 'make-retrieve-response))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input retrieve-response))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input retrieve-response))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'next-token))
      (common-lisp:list
       (common-lisp:cons "nextToken"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'retrieval-results))
      (common-lisp:list
       (common-lisp:cons "retrievalResults"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input retrieve-response))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:defstruct
     (retrieved-reference (:copier common-lisp:nil)
      (:conc-name "struct-shape-retrieved-reference-"))
   (content common-lisp:nil :type
    (common-lisp:or retrieval-result-content common-lisp:null))
   (location common-lisp:nil :type
    (common-lisp:or retrieval-result-location common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'retrieved-reference 'make-retrieved-reference))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input retrieved-reference))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input retrieved-reference))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'content))
      (common-lisp:list
       (common-lisp:cons "content"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'location))
      (common-lisp:list
       (common-lisp:cons "location"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input retrieved-reference))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:deftype retrieved-references ()
   '(trivial-types:proper-list retrieved-reference))
 (common-lisp:defun make-retrieved-references
                    (common-lisp:&rest aws-sdk/generator/shape::members)
   (common-lisp:check-type aws-sdk/generator/shape::members
                           (trivial-types:proper-list retrieved-reference))
   aws-sdk/generator/shape::members))
(common-lisp:deftype search-type () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:define-condition service-quota-exceeded-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       service-quota-exceeded-exception-message)))
 (common-lisp:export
  (common-lisp:list 'service-quota-exceeded-exception
                    'service-quota-exceeded-exception-message)))
(common-lisp:progn
 (common-lisp:deftype session-attributes-map () 'common-lisp:hash-table)
 (common-lisp:defun make-session-attributes-map
                    (aws-sdk/generator/shape::key-values)
   (common-lisp:etypecase aws-sdk/generator/shape::key-values
     (common-lisp:hash-table aws-sdk/generator/shape::key-values)
     (common-lisp:list
      (alexandria:alist-hash-table aws-sdk/generator/shape::key-values)))))
(common-lisp:deftype session-id () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (session-state (:copier common-lisp:nil)
      (:conc-name "struct-shape-session-state-"))
   (prompt-session-attributes common-lisp:nil :type
    (common-lisp:or prompt-session-attributes-map common-lisp:null))
   (session-attributes common-lisp:nil :type
    (common-lisp:or session-attributes-map common-lisp:null)))
 (common-lisp:export (common-lisp:list 'session-state 'make-session-state))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input session-state))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input session-state))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'prompt-session-attributes))
      (common-lisp:list
       (common-lisp:cons "promptSessionAttributes"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'session-attributes))
      (common-lisp:list
       (common-lisp:cons "sessionAttributes"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input session-state))
   common-lisp:nil))
(common-lisp:deftype source () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (span (:copier common-lisp:nil) (:conc-name "struct-shape-span-"))
   (end common-lisp:nil :type
    (common-lisp:or span-end-integer common-lisp:null))
   (start common-lisp:nil :type
    (common-lisp:or span-start-integer common-lisp:null)))
 (common-lisp:export (common-lisp:list 'span 'make-span))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input span))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input span))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'end))
      (common-lisp:list
       (common-lisp:cons "end"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'start))
      (common-lisp:list
       (common-lisp:cons "start"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input span))
   common-lisp:nil))
(common-lisp:deftype span-end-integer () 'common-lisp:integer)
(common-lisp:deftype span-start-integer () 'common-lisp:integer)
(common-lisp:progn
 (common-lisp:deftype stop-sequences () '(trivial-types:proper-list string))
 (common-lisp:defun make-stop-sequences
                    (common-lisp:&rest aws-sdk/generator/shape::members)
   (common-lisp:check-type aws-sdk/generator/shape::members
                           (trivial-types:proper-list string))
   aws-sdk/generator/shape::members))
(common-lisp:deftype string () 'common-lisp:string)
(common-lisp:deftype temperature () 'common-lisp:single-float)
(common-lisp:progn
 (common-lisp:defstruct
     (text-response-part (:copier common-lisp:nil)
      (:conc-name "struct-shape-text-response-part-"))
   (span common-lisp:nil :type (common-lisp:or span common-lisp:null))
   (text common-lisp:nil :type (common-lisp:or string common-lisp:null)))
 (common-lisp:export
  (common-lisp:list 'text-response-part 'make-text-response-part))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input text-response-part))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input text-response-part))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'span))
      (common-lisp:list
       (common-lisp:cons "span"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'text))
      (common-lisp:list
       (common-lisp:cons "text"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input text-response-part))
   common-lisp:nil))
(common-lisp:progn
 (common-lisp:define-condition throttling-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       throttling-exception-message)))
 (common-lisp:export
  (common-lisp:list 'throttling-exception 'throttling-exception-message)))
(common-lisp:deftype top-k () 'common-lisp:integer)
(common-lisp:deftype top-p () 'common-lisp:single-float)
(common-lisp:progn
 (common-lisp:defstruct
     (trace (:copier common-lisp:nil) (:conc-name "struct-shape-trace-"))
   (failure-trace common-lisp:nil :type
    (common-lisp:or failure-trace common-lisp:null))
   (orchestration-trace common-lisp:nil :type
    (common-lisp:or orchestration-trace common-lisp:null))
   (post-processing-trace common-lisp:nil :type
    (common-lisp:or post-processing-trace common-lisp:null))
   (pre-processing-trace common-lisp:nil :type
    (common-lisp:or pre-processing-trace common-lisp:null)))
 (common-lisp:export (common-lisp:list 'trace 'make-trace))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input trace))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input trace))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'failure-trace))
      (common-lisp:list
       (common-lisp:cons "failureTrace"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'orchestration-trace))
      (common-lisp:list
       (common-lisp:cons "orchestrationTrace"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'post-processing-trace))
      (common-lisp:list
       (common-lisp:cons "postProcessingTrace"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input
                           'pre-processing-trace))
      (common-lisp:list
       (common-lisp:cons "preProcessingTrace"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input trace))
   common-lisp:nil))
(common-lisp:deftype trace-id () 'common-lisp:string)
(common-lisp:deftype trace-knowledge-base-id () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defstruct
     (trace-part (:copier common-lisp:nil)
      (:conc-name "struct-shape-trace-part-"))
   (agent-alias-id common-lisp:nil :type
    (common-lisp:or agent-alias-id common-lisp:null))
   (agent-id common-lisp:nil :type (common-lisp:or agent-id common-lisp:null))
   (session-id common-lisp:nil :type
    (common-lisp:or session-id common-lisp:null))
   (trace common-lisp:nil :type (common-lisp:or trace common-lisp:null)))
 (common-lisp:export (common-lisp:list 'trace-part 'make-trace-part))
 (common-lisp:defmethod aws-sdk/generator/shape::input-headers
                        ((aws-sdk/generator/shape::input trace-part))
   (common-lisp:append))
 (common-lisp:defmethod aws-sdk/generator/shape::input-params
                        ((aws-sdk/generator/shape::input trace-part))
   (common-lisp:append
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'agent-alias-id))
      (common-lisp:list
       (common-lisp:cons "agentAliasId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'agent-id))
      (common-lisp:list
       (common-lisp:cons "agentId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'session-id))
      (common-lisp:list
       (common-lisp:cons "sessionId"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))
    (alexandria:when-let (aws-sdk/generator/shape::value
                          (common-lisp:slot-value
                           aws-sdk/generator/shape::input 'trace))
      (common-lisp:list
       (common-lisp:cons "trace"
                         (aws-sdk/generator/shape::input-params
                          aws-sdk/generator/shape::value))))))
 (common-lisp:defmethod aws-sdk/generator/shape::input-payload
                        ((aws-sdk/generator/shape::input trace-part))
   common-lisp:nil))
(common-lisp:deftype type () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:define-condition validation-exception
     (bedrock-agent-runtime-error)
     ((message :initarg :message :initform common-lisp:nil :reader
       validation-exception-message)))
 (common-lisp:export
  (common-lisp:list 'validation-exception 'validation-exception-message)))
(common-lisp:deftype verb () 'common-lisp:string)
(common-lisp:progn
 (common-lisp:defun invoke-agent
                    (
                     common-lisp:&rest aws-sdk/generator/operation::args
                     common-lisp:&key agent-alias-id agent-id enable-trace
                     end-session input-text session-id session-state)
   (common-lisp:declare
    (common-lisp:ignorable agent-alias-id agent-id enable-trace end-session
     input-text session-id session-state))
   (common-lisp:let ((aws-sdk/generator/operation::input
                      (common-lisp:apply 'make-invoke-agent-request
                                         aws-sdk/generator/operation::args)))
     (aws-sdk/generator/operation::parse-response
      (aws-sdk/api:aws-request
       (aws-sdk/generator/shape:make-request-with-input
        'bedrock-agent-runtime-request aws-sdk/generator/operation::input
        "POST"
        (common-lisp:lambda (aws-sdk/generator/operation::input)
          (common-lisp:format common-lisp:nil
                              "/agents/~A/agentAliases/~A/sessions/~A/text"
                              (quri.encode:url-encode
                               (common-lisp:slot-value
                                aws-sdk/generator/operation::input 'agent-id))
                              (quri.encode:url-encode
                               (common-lisp:slot-value
                                aws-sdk/generator/operation::input
                                'agent-alias-id))
                              (quri.encode:url-encode
                               (common-lisp:slot-value
                                aws-sdk/generator/operation::input
                                'session-id))))
        "InvokeAgent"))
      "structure" common-lisp:nil *error-map*)))
 (common-lisp:export 'invoke-agent))
(common-lisp:progn
 (common-lisp:defun retrieve
                    (
                     common-lisp:&rest aws-sdk/generator/operation::args
                     common-lisp:&key knowledge-base-id next-token
                     retrieval-configuration retrieval-query)
   (common-lisp:declare
    (common-lisp:ignorable knowledge-base-id next-token retrieval-configuration
     retrieval-query))
   (common-lisp:let ((aws-sdk/generator/operation::input
                      (common-lisp:apply 'make-retrieve-request
                                         aws-sdk/generator/operation::args)))
     (aws-sdk/generator/operation::parse-response
      (aws-sdk/api:aws-request
       (aws-sdk/generator/shape:make-request-with-input
        'bedrock-agent-runtime-request aws-sdk/generator/operation::input
        "POST"
        (common-lisp:lambda (aws-sdk/generator/operation::input)
          (common-lisp:format common-lisp:nil "/knowledgebases/~A/retrieve"
                              (quri.encode:url-encode
                               (common-lisp:slot-value
                                aws-sdk/generator/operation::input
                                'knowledge-base-id))))
        "Retrieve"))
      common-lisp:nil common-lisp:nil *error-map*)))
 (common-lisp:export 'retrieve))
(common-lisp:progn
 (common-lisp:defun retrieve-and-generate
                    (
                     common-lisp:&rest aws-sdk/generator/operation::args
                     common-lisp:&key input retrieve-and-generate-configuration
                     session-configuration session-id)
   (common-lisp:declare
    (common-lisp:ignorable input retrieve-and-generate-configuration
     session-configuration session-id))
   (common-lisp:let ((aws-sdk/generator/operation::input
                      (common-lisp:apply 'make-retrieve-and-generate-request
                                         aws-sdk/generator/operation::args)))
     (aws-sdk/generator/operation::parse-response
      (aws-sdk/api:aws-request
       (aws-sdk/generator/shape:make-request-with-input
        'bedrock-agent-runtime-request aws-sdk/generator/operation::input
        "POST" "/retrieveAndGenerate" "RetrieveAndGenerate"))
      common-lisp:nil common-lisp:nil *error-map*)))
 (common-lisp:export 'retrieve-and-generate))
